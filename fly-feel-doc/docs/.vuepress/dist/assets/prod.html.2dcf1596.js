import{c as s}from"./app.75a871c6.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const a={},e=s(`<h2 id="\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#\u6253\u5305" aria-hidden="true">#</a> \u6253\u5305</h2><ol><li><p>\u8FD0\u884C<code>mvn run clean</code>\u3002</p></li><li><p>\u8FD0\u884C<code>mvn run package</code>\u3002</p></li><li><p>\u5728\u9879\u76EE\u5165\u53E3\u6A21\u5757\u7684<code>target</code>\u6587\u4EF6\u5939\u4E0B\u5373\u53EF\u770B\u5230\u6253\u5305\u597D\u7684JAR\u6587\u4EF6\u3002</p></li></ol><h2 id="\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72" aria-hidden="true">#</a> \u90E8\u7F72</h2><h3 id="\u9632\u5B95\u673A\u7684shell\u91CD\u542F\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#\u9632\u5B95\u673A\u7684shell\u91CD\u542F\u811A\u672C" aria-hidden="true">#</a> \u9632\u5B95\u673A\u7684shell\u91CD\u542F\u811A\u672C</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u9879\u76EE\u540D\u79F0</span>
<span class="token assign-left variable">jar_name</span><span class="token operator">=</span><span class="token string">&#39;xxxxxxxx&#39;</span>
<span class="token comment"># shellcheck disable=SC2006</span>
<span class="token comment"># shellcheck disable=SC2009</span>
<span class="token assign-left variable">pid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -aux <span class="token operator">|</span> <span class="token function">grep</span> $jar_name <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token function">grep</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$pid</span>&quot;</span>
<span class="token builtin class-name">source</span> /etc/profile
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">&quot;<span class="token variable">$pid</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&#39;\u9879\u76EE\u91CD\u65B0\u542F\u52A8&#39;</span> <span class="token operator">&gt;</span>./run.log <span class="token operator">&amp;</span>
    <span class="token function">nohup</span> java -Dfile.encoding<span class="token operator">=</span>utf-8 -agentlib:jdwp<span class="token operator">=</span>transport<span class="token operator">=</span>dt_socket,server<span class="token operator">=</span>y,suspend<span class="token operator">=</span>n,address<span class="token operator">=</span><span class="token number">5005</span> -jar ./<span class="token variable">$jar_name</span>.jar <span class="token operator">&gt;</span>./run.log <span class="token operator">&amp;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;\u9879\u76EE\u5DF2\u7ECF\u542F\u52A8&quot;</span> <span class="token operator">&gt;</span>./run.log <span class="token operator">&amp;</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="\u771F\u673A\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u771F\u673A\u90E8\u7F72" aria-hidden="true">#</a> \u771F\u673A\u90E8\u7F72</h3><h4 id="\u8BBE\u7F6Eshell\u5B9A\u65F6\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6Eshell\u5B9A\u65F6\u4EFB\u52A1" aria-hidden="true">#</a> \u8BBE\u7F6Eshell\u5B9A\u65F6\u4EFB\u52A1</h4><ol><li><p>\u589E\u52A0\u5B9A\u65F6\u4EFB\u52A1\uFF1A<code>crontab -e</code></p></li><li><p>\u6309\u4E0B<code>Insert</code>\u952E\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>00 * * * * /home/zhangs/iot_tac.sh <span class="token operator">&gt;</span>/home/zhangs/log/iot_tac.log
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8BE5\u811A\u672C\u8868\u793A\u6BCF\u5C0F\u65F6\u6267\u884C\u4E00\u6B21shell\u811A\u672C\uFF0C\u5E76\u751F\u6210\u65E5\u5FD7\u6587\u4EF6</p><ul><li>minute: \u533A\u95F4\u4E3A 0 \u2013 59</li><li>hour: \u533A\u95F4\u4E3A0 \u2013 23</li><li>day-of-month: \u533A\u95F4\u4E3A0 \u2013 31</li><li>month: \u533A\u95F4\u4E3A1 \u2013 12. 1 \u662F1\u6708. 12\u662F12\u6708.</li><li>Day-of-week: \u533A\u95F4\u4E3A0 \u2013 7. \u5468\u65E5\u53EF\u4EE5\u662F0\u62167.</li></ul><ol start="3"><li>\u4FDD\u5B58\u5E76\u9000\u51FA</li></ol><h3 id="docker\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#docker\u90E8\u7F72" aria-hidden="true">#</a> Docker\u90E8\u7F72</h3><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> dragonwelljdk/build_jdk:8u</span>

<span class="token comment">#\u8FD9\u91CC\u53EF\u6839\u636E\u9700\u8981\u4FEE\u6539</span>
<span class="token instruction"><span class="token keyword">ENV</span> PROJECT_HOME /usr/xxxxxx</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> <span class="token variable">\${PROJECT_HOME}</span></span>

<span class="token comment">#\u8FD9\u91CC\u53EF\u6839\u636E\u9700\u8981\u4FEE\u6539</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./target/xxxxxx.jar ./xxxxxx.jar</span>

<span class="token comment">#\u8FD9\u91CC\u53EF\u6839\u636E\u9700\u8981\u4FEE\u6539 \u53EF\u5F00\u653E\u7AEF\u53E3</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8888 5005</span>

<span class="token comment">#\u8FD9\u91CC\u53EF\u6839\u636E\u9700\u8981\u4FEE\u6539</span>
<span class="token instruction"><span class="token keyword">VOLUME</span> /usr/xxxxxx/log/* /etc/localtime</span>

<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>,<span class="token string">&quot;xxxxxx.jar&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u6784\u5EFA\u8FD0\u884C\u5373\u53EF\u3002\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u6539\u4E3Ashell\u811A\u672C\u7684\u65B9\u5F0F\u8FD0\u884C\u3002</p>`,15);function p(l,r){return e}var c=n(a,[["render",p]]);export{c as default};
